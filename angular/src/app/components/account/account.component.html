<div class="container">
  <div class="row" *ngIf="!isLoggedIn()">
    <div class="col">
      <button class="btn btn-primary" (click)="showLogin = true; showRegister = false;">Login</button>
      <button class="btn btn-secondary" (click)="showLogin = false; showRegister = true;">Register</button>
    </div>
  </div>
  <div class="row">
    <!-- Login Form -->
    <div class="col" *ngIf="showLogin && !isLoggedIn()">
      <h2>Login</h2>
      <form (ngSubmit)="login()">
        <div class="form-group">
          <label for="loginUsername">Username</label>
          <input type="text" id="loginUsername" class="form-control" [(ngModel)]="username" name="username" required>
        </div>
        <div class="form-group">
          <label for="loginPassword">Password</label>
          <input type="password" id="loginPassword" class="form-control" [(ngModel)]="password" name="password" required>
        </div>
        <button type="submit" class="btn btn-success">Login</button>
        <div *ngIf="loginError" class="error-message">
          Username or password are wrong.
        </div>
      </form>
    </div>
    <!-- Registration Form -->
    <div class="col" *ngIf="showRegister && !isLoggedIn()">
      <h2>Register</h2>
      <form (ngSubmit)="register()">
        <div class="form-group">
          <label for="registerUsername">Username</label>
          <input type="text" id="registerUsername" class="form-control" [(ngModel)]="newUser.username" name="username" required>
        </div>
        <div class="form-group">
          <label for="registerEmail">Email</label>
          <input type="email" id="registerEmail" class="form-control" [(ngModel)]="newUser.email" name="email" required>
        </div>
        <div class="form-group">
          <label for="registerPassword">Password</label>
          <input type="password" id="registerPassword" class="form-control" [(ngModel)]="newUser.password" name="password" required>
          <div *ngIf="registerPasswordError" class="error-message">
            {{ registerPasswordError }}
          </div>
        </div>
        <div class="form-group">
          <label for="registerNume">Nume</label>
          <input type="text" id="registerNume" class="form-control" [(ngModel)]="newUser.nume" name="nume" required>
        </div>
        <div class="form-group">
          <label for="registerPrenume">Prenume</label>
          <input type="text" id="registerPrenume" class="form-control" [(ngModel)]="newUser.prenume" name="prenume" required>
        </div>
        <button type="submit" class="btn btn-success">Register</button>
      </form>
    </div>
  </div>
  <div class="row" *ngIf="isLoggedIn()">
    <div class="col">
      <!-- Existing Logout button and the new Remove Account button -->
      <button class="btn btn-warning" (click)="logout()">Logout</button>
      <button class="btn btn-danger" (click)="removeAccount()">Remove Account</button>
    </div>
  </div>
  <div class="row" *ngIf="isLoggedIn()">
    <div class="col">
      <h2>Edit Account</h2>
      <form (ngSubmit)="updateUser()">
        <div class="form-group">
          <label for="editNume">Nume</label>
          <input type="text" id="editNume" class="form-control" [(ngModel)]="currentUser.nume" name="nume" required>
        </div>
        <div class="form-group">
          <label for="editPrenume">Prenume</label>
          <input type="text" id="editPrenume" class="form-control" [(ngModel)]="currentUser.prenume" name="prenume" required>
        </div>
        <div class="form-group">
          <label for="editEmail">Email</label>
          <input type="email" id="editEmail" class="form-control" [(ngModel)]="currentUser.email" name="email" required>
        </div>
        <button type="submit" class="btn btn-success">Update Account</button>
      </form>
    </div>
  </div>
</div>
